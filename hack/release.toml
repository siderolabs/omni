# commit to be tagged for the new release
commit = "HEAD"

project_name = "Omni"
github_repo = "siderolabs/omni"
match_deps = "^github.com/((talos-systems|siderolabs)/[a-zA-Z0-9-]+)$"

pre_release = false
previous = "v1.4.0"

[notes.omnictl-directory-support]
title = "`omnictl` Directory Support"
description = """\
The `omnictl sync/apply` can now process directories, simplifying bulk resource applications.
"""

[notes.join-token-management]
title = "Join Token Management"
description = """\
Added a dedicated `omnictl jointoken omni-endpoint` to streamline node registration.
"""

[notes.multiples-schema-support]
title = "Schema-Aware Code Editor"
description = """\
The built-in code editor for the machine configs now supports different configuration schemas for each Talos version.
So the config will be always validated against the currently running Talos version schema.
"""

[notes.kernel-args]
title = "Kernel Args CLI Tools"
description = """\
Added support for managing kernel arguments directly within cluster templates.
"""

[notes.config-generation]
title = "Config Generation"
description = """\
Omni can now generate its own configuration directly from the defined schema.
The config merge algorithms were also improved: now the config preserves the default values properly when some sections are
overwritten by the user provided config.
"""

[notes.audit-logging]
title = "Better Audit Logging"
description = """\
Omni now collects audit logs for operations performed on *all* user-managed resources, improving security and traceability.
"""

[notes.etcd-maintenance]
title = "Etcd Maintenance"
description = """\
The following etcd commands are now usable with Omni managed clusters:
`talosctl etcd downgrade validate`
`talosctl etcd downgrade enable`
`talosctl etcd downgrade cancel`
`talosctl etcd forfeit leadership`
"""

[notes.grpc-tunnel-management]
title = "gRPC Tunnel Management"
description = """\
Added the ability to switch gRPC tunnel modes for connected machines.
"""

[notes.wireguard-bind-address]
title = "WireGuard Bind Address"
description = """\
The WireGuard endpoint (`services.siderolink.wireGuard.endpoint` / `--siderolink-wireguard-bind-addr`) is now respected. \
Previously, Omni always bound to all interfaces regardless of this setting. Default remains `0.0.0.0:50180`.
"""
