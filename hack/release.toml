# commit to be tagged for the new release
commit = "HEAD"

project_name = "Omni"
github_repo = "siderolabs/omni"
match_deps = "^github.com/((talos-systems|siderolabs)/[a-zA-Z0-9-]+)$"

pre_release = true
previous = "v1.3.0"

[notes]

[notes.sqlite-storage-migration]
title = "Migration to SQLite Storage"
description = """\
Discovery service state, audit logs, machine logs, and secondary resources have been migrated to use SQLite
storage.
"""

[notes.infra-provider-cleanup]
title = "Force Deletion of Infra Provider Resources"
description = """\
Added the ability to force-delete `MachineRequests` and `InfraMachines` managed by Infra providers.
This allows for the cleanup of resources and finalizers even if the underlying provider is unresponsive or deleted.
"""

[notes.auth-saml-dynamic-roles]
title = "Dynamic SAML Label Role Updates"
description = """\
Added support for dynamically updating SAML label roles on every login via the new `update_on_each_login` field.
"""

[notes.auth-extend-oidc-support]
title = "Support for OIDC Providers without Email Verified Claim"
description = """\
Enabled support for OIDC providers, such as Azure, that do not provide the `email_verified` claim during authentication.
"""

[notes.backend-platform-info]
title = "Virtual Resources for Platform Information"
description = """\
Platform and SBC information is now pulled from Talos machinery and presented as virtual resources:
`MetalPlatformConfig`, `CloudPlatformConfig`, and `SBCConfig`. They support `Get` and `List` operations.
"""

[notes.backend-machine-classes-logic]
title = "Machine Class Logic Updates"
description = """\
Added support for locks, node deletion, and restore operations when using machine classes.
"""

[notes.talos-version-downgrade-prevention]
title = "Prevent Talos Minor Version Downgrades"
description = """\
Omni now prevents downgrading the Talos minor version below the initial version used to create the cluster.
This safeguard prevents machine configurations from entering a broken state due to unsupported features in older versions.
"""

[notes.frontend-oidc-warning]
title = "OIDC Warning for Kubeconfig Download"
description = """\
A warning toast is now displayed when downloading kubeconfig to inform users that the OIDC plugin is required before using the file with kubectl.
"""

[notes.frontend-cli-install-options]
title = "Automated CLI Install Options"
description = """\
Automated installation options have been added to the CLI section of the homepage, supplementing the existing manual options.
"""

[notes.frontend-ui-improvements]
title = "UI/UX Improvements"
description = """\
Various UI improvements including pre-selecting the correct binary for the user's platform, truncating long items in the ongoing tasks list,
hiding JSON schema descriptions behind tooltips, and standardizing link styling.
"""
